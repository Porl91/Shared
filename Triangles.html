<!doctype html/>
<html>
	<body>
		<canvas id="scene"></canvas>
		<link rel="stylesheet" type="text/css" href="Content/CSS/Global.css"/>
		<script src="Geom/Vector2.js" type="text/javascript"></script>
		<script src="ViewModels/GameViewModel.js" type="text/javascript"></script>
		<script>
			var DrawAShittyLine = function() {
				var p1 = new Vector2(20, 50);
				var p2 = new Vector2(60, 300);
				
				this.context.fillRect(p1.x, p1.y, 1, 1);
				this.context.fillRect(p2.x, p2.y, 1, 1);
				
				
				var x = p1.x;
				var y = p1.y;
				var e = 0;
				var s = (p2.x - p1.x) / (p2.y - p1.y);
				
				while(y != p2.y) {
					this.context.fillRect(x, y, 1, 1);
					
					if(e >= 0.5) {
						x++;
						e--;
					}
					
					e += s;
					y++;
				}
			};
			
			var DrawTriangle = function() {
				
				var v1 = new Vector2(50, 0);
				var v2 = new Vector2(0, 50);
				var v3 = new Vector2(100, 50);
				
				this.context.fillStyle = "#fff";
				this.context.fillRect(v1.x + 300, v1.y + 300, 1, 1);
				this.context.fillRect(v2.x + 300, v2.y + 300, 1, 1);
				this.context.fillRect(v3.x + 300, v3.y + 300, 1, 1);
				
			};
			
			window.onload = function() {
				new GameViewModel({
					CanvasId: 'scene', 
					Fps: 1, 
					RenderCallback: DrawTriangle
				}).Begin();
			};
			
		</script>
	</body>
</html>